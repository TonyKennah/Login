const translations = {
    en: {
        pageTitle: "Login",
        loginTitle: "Login",
        usernameLabel: "Username:",
        passwordLabel: "Password:",
        passwordPlaceholder: "Type password here",
        usernamePlaceholder: "Type username here",
        loginButton: "Login",
        registerButton: "Register",
        forgottenButton: "Forgotten",
        resultTitle: "Result:",
        loginSuccess: "Logged in successfully! Tokens stored.",
        loginFailed: "Login failed",
        attemptsRemaining: "You have {0} attempt(s) remaining.",
        noAttemptsRemaining: "You have no attempts remaining. The login button is now disabled.",
        lockedOut: "You have no attempts remaining. Please wait {0} seconds to try again.",
        canTryAgain: "You can now try to log in again.",
        maxAttemptsExceeded: "Maximum login attempts exceeded. Please try again later.",
        loggingIn: "Logging in...",
        validating: "Validating...",
        openingPage: "Opening {0} page...",
        urlNotConfigured: "{0} URL is not configured on the server.",
        enterCredentials: "Please enter both username and password."
    },
    fr: {
        pageTitle: "Connexion",
        loginTitle: "Connexion",
        usernameLabel: "Nom d'utilisateur:",
        passwordLabel: "Mot de passe:",
        passwordPlaceholder: "Saisissez votre mot de passe ici",
        usernamePlaceholder: "Saisissez votre nom d'utilisateur ici",
        loginButton: "Se connecter",
        registerButton: "S'inscrire",
        forgottenButton: "Oublié",
        resultTitle: "Résultat:",
        loginSuccess: "Connecté avec succès ! Jetons stockés.",
        loginFailed: "La connexion a échoué",
        attemptsRemaining: "Il vous reste {0} tentative(s).",
        noAttemptsRemaining: "Il ne vous reste aucune tentative. Le bouton de connexion est maintenant désactivé.",
        lockedOut: "Il ne vous reste aucune tentative. Veuillez patienter {0} secondes pour réessayer.",
        canTryAgain: "Vous pouvez maintenant essayer de vous reconnecter.",
        maxAttemptsExceeded: "Nombre maximum de tentatives de connexion dépassé. Veuillez réessayer plus tard.",
        loggingIn: "Connexion en cours...",
        validating: "Validation en cours...",
        openingPage: "Ouverture de la page {0}...",
        urlNotConfigured: "L'URL de {0} n'est pas configurée sur le serveur.",
        enterCredentials: "Veuillez saisir votre nom d'utilisateur et votre mot de passe."
    },
    de: {
        pageTitle: "Anmeldung",
        loginTitle: "Anmeldung",
        usernameLabel: "Benutzername:",
        passwordLabel: "Passwort:",
        passwordPlaceholder: "Passwort hier eingeben",
        usernamePlaceholder: "Benutzernamen hier eingeben",
        loginButton: "Anmelden",
        registerButton: "Registrieren",
        forgottenButton: "Vergessen",
        resultTitle: "Ergebnis:",
        loginSuccess: "Erfolgreich angemeldet! Token gespeichert.",
        loginFailed: "Anmeldung fehlgeschlagen",
        attemptsRemaining: "Sie haben noch {0} Versuch(e).",
        noAttemptsRemaining: "Sie haben keine Versuche mehr. Der Anmelde-Button ist jetzt deaktiviert.",
        lockedOut: "Sie haben keine Versuche mehr. Bitte warten Sie {0} Sekunden, um es erneut zu versuchen.",
        canTryAgain: "Sie können sich jetzt erneut anmelden.",
        maxAttemptsExceeded: "Maximale Anmeldeversuche überschritten. Bitte versuchen Sie es später erneut.",
        loggingIn: "Anmeldung läuft...",
        validating: "Überprüfung...",
        openingPage: "Öffne {0}-Seite...",
        urlNotConfigured: "{0}-URL ist auf dem Server nicht konfiguriert.",
        enterCredentials: "Bitte geben Sie Benutzername und Passwort ein."
    },
    it: {
        pageTitle: "Accesso",
        loginTitle: "Accesso",
        usernameLabel: "Nome utente:",
        passwordLabel: "Password:",
        passwordPlaceholder: "Inserisci qui la password",
        usernamePlaceholder: "Inserisci qui il nome utente",
        loginButton: "Accedi",
        registerButton: "Registrati",
        forgottenButton: "Dimenticata",
        resultTitle: "Risultato:",
        loginSuccess: "Accesso riuscito! Token memorizzati.",
        loginFailed: "Accesso fallito",
        attemptsRemaining: "Hai {0} tentativo/i rimanente/i.",
        noAttemptsRemaining: "Non hai più tentativi. Il pulsante di accesso è ora disabilitato.",
        lockedOut: "Non hai più tentativi. Attendi {0} secondi per riprovare.",
        canTryAgain: "Ora puoi provare ad accedere di nuovo.",
        maxAttemptsExceeded: "Numero massimo di tentativi di accesso superato. Riprova più tardi.",
        loggingIn: "Accesso in corso...",
        validating: "Convalida in corso...",
        openingPage: "Apertura pagina {0}...",
        urlNotConfigured: "L'URL di {0} non è configurato sul server.",
        enterCredentials: "Inserisci nome utente e password."
    },
    es: {
        pageTitle: "Iniciar sesión",
        loginTitle: "Iniciar sesión",
        usernameLabel: "Usuario:",
        passwordLabel: "Contraseña:",
        passwordPlaceholder: "Escriba su contraseña aquí",
        usernamePlaceholder: "Escriba su nombre de usuario aquí",
        loginButton: "Iniciar sesión",
        registerButton: "Registrarse",
        forgottenButton: "Olvidada",
        resultTitle: "Resultado:",
        loginSuccess: "¡Sesión iniciada con éxito! Tokens guardados.",
        loginFailed: "Falló el inicio de sesión",
        attemptsRemaining: "Te quedan {0} intento(s).",
        noAttemptsRemaining: "No te quedan intentos. El botón de inicio de sesión está deshabilitado.",
        lockedOut: "No te quedan intentos. Por favor, espera {0} segundos para volver a intentarlo.",
        canTryAgain: "Ahora puedes intentar iniciar sesión de nuevo.",
        maxAttemptsExceeded: "Se ha excedido el número máximo de intentos de inicio de sesión. Por favor, inténtalo de nuevo más tarde.",
        loggingIn: "Iniciando sesión...",
        validating: "Validando...",
        openingPage: "Abriendo la página de {0}...",
        urlNotConfigured: "La URL de {0} no está configurada en el servidor.",
        enterCredentials: "Por favor, introduce usuario y contraseña."
    },
    ar: {
        pageTitle: "تسجيل الدخول",
        loginTitle: "تسجيل الدخول",
        usernameLabel: "اسم المستخدم:",
        passwordLabel: "كلمة المرور:",
        passwordPlaceholder: "اكتب كلمة المرور هنا",
        usernamePlaceholder: "اكتب اسم المستخدم هنا",
        loginButton: "تسجيل الدخول",
        registerButton: "تسجيل",
        forgottenButton: "نسيت",
        resultTitle: "النتيجة:",
        loginSuccess: "تم تسجيل الدخول بنجاح! تم تخزين الرموز.",
        loginFailed: "فشل تسجيل الدخول",
        attemptsRemaining: "لديك {0} محاولة (محاولات) متبقية.",
        noAttemptsRemaining: "لم يتبق لديك أي محاولات. زر تسجيل الدخول معطل الآن.",
        lockedOut: "لم يتبق لديك أي محاولات. يرجى الانتظar {0} ثانية للمحاولة مرة أخرى.",
        canTryAgain: "يمكنك الآن محاولة تسجيل الدخول مرة أخرى.",
        maxAttemptsExceeded: "تم تجاوز الحد الأقصى لمحاولات تسجيل الدخول. يرجى المحاولة مرة أخرى في وقت لاحق.",
        loggingIn: "جاري تسجيل الدخول...",
        validating: "جار التحقق...",
        openingPage: "جاري فتح صفحة {0}...",
        urlNotConfigured: "عنوان URL الخاص بـ {0} غير مهيأ على الخادم.",
        enterCredentials: "يرجى إدخال اسم المستخدم وكلمة المرور."
    },
    pt: {
        pageTitle: "Entrar",
        loginTitle: "Entrar",
        usernameLabel: "Usuário:",
        passwordLabel: "Senha:",
        passwordPlaceholder: "Digite a senha aqui",
        usernamePlaceholder: "Digite o nome de usuário aqui",
        loginButton: "Entrar",
        registerButton: "Registrar",
        forgottenButton: "Esquecida",
        resultTitle: "Resultado:",
        loginSuccess: "Login bem-sucedido! Tokens armazenados.",
        loginFailed: "Falha no login",
        attemptsRemaining: "Você tem {0} tentativa(s) restante(s).",
        noAttemptsRemaining: "Você não tem mais tentativas. O botão de login está desativado.",
        lockedOut: "Você não tem mais tentativas. Por favor, aguarde {0} segundos para tentar novamente.",
        canTryAgain: "Agora você pode tentar fazer login novamente.",
        maxAttemptsExceeded: "Máximo de tentativas de login excedido. Por favor, tente novamente mais tarde.",
        loggingIn: "Fazendo login...",
        validating: "Validando...",
        openingPage: "Abrindo a página de {0}...",
        urlNotConfigured: "A URL de {0} não está configurada no servidor.",
        enterCredentials: "Por favor, insira o nome de usuário e a senha."
    },
    sv: {
        pageTitle: "Logga in",
        loginTitle: "Logga in",
        usernameLabel: "Användarnamn:",
        passwordLabel: "Lösenord:",
        passwordPlaceholder: "Skriv lösenord här",
        usernamePlaceholder: "Skriv användarnamn här",
        loginButton: "Logga in",
        registerButton: "Registrera",
        forgottenButton: "Glömt",
        resultTitle: "Resultat:",
        loginSuccess: "Inloggning lyckades! Tokens sparade.",
        loginFailed: "Inloggning misslyckades",
        attemptsRemaining: "Du har {0} försök kvar.",
        noAttemptsRemaining: "Du har inga fler försök. Inloggningsknappen är nu inaktiverad.",
        lockedOut: "Du har inga fler försök. Vänta {0} sekunder för att försöka igen.",
        canTryAgain: "Du kan nu försöka logga in igen.",
        maxAttemptsExceeded: "Maximalt antal inloggningsförsök har överskridits. Försök igen senare.",
        loggingIn: "Loggar in...",
        validating: "Validerar...",
        openingPage: "Öppnar {0}-sidan...",
        urlNotConfigured: "{0}-URL är inte konfigurerad på servern.",
        enterCredentials: "Vänligen ange både användarnamn och lösenord."
    },
    nl: {
        pageTitle: "Inloggen",
        loginTitle: "Inloggen",
        usernameLabel: "Gebruikersnaam:",
        passwordLabel: "Wachtwoord:",
        passwordPlaceholder: "Typ hier uw wachtwoord",
        usernamePlaceholder: "Typ hier uw gebruikersnaam",
        loginButton: "Inloggen",
        registerButton: "Registreren",
        forgottenButton: "Vergeten",
        resultTitle: "Resultaat:",
        loginSuccess: "Succesvol ingelogd! Tokens opgeslagen.",
        loginFailed: "Inloggen mislukt",
        attemptsRemaining: "U heeft nog {0} poging(en) over.",
        noAttemptsRemaining: "U heeft geen pogingen meer. De inlogknop is nu uitgeschakeld.",
        lockedOut: "U heeft geen pogingen meer. Wacht {0} seconden om het opnieuw te proberen.",
        canTryAgain: "U kunt nu opnieuw proberen in te loggen.",
        maxAttemptsExceeded: "Maximaal aantal inlogpogingen overschreden. Probeer het later opnieuw.",
        loggingIn: "Inloggen...",
        validating: "Valideren...",
        openingPage: "Pagina {0} openen...",
        urlNotConfigured: "URL voor {0} is niet geconfigureerd op de server.",
        enterCredentials: "Voer alstublieft zowel gebruikersnaam als wachtwoord in."
    }
};

let currentLanguage = 'en';

function setLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('language', lang);
    document.querySelectorAll('[data-i18n-key]').forEach(element => {
        const key = element.getAttribute('data-i18n-key');

        // Do not translate the login title if a logo image is already present.
        if (key === 'loginTitle' && element.querySelector('img')) {
            return;
        }

        element.textContent = translations[lang][key] || key;
    });
    // Handle placeholder attributes
    document.querySelectorAll('[data-i18n-placeholder-key]').forEach(element => {
        const key = element.getAttribute('data-i18n-placeholder-key');
        element.placeholder = translations[lang][key] || key;
    });
    document.title = translations[lang].pageTitle || "Login";
}

function t(key, ...args) {
    let translation = translations[currentLanguage][key] || key;
    args.forEach((arg, index) => {
        translation = translation.replace(`{${index}}`, arg);
    });
    return translation;
}
